(this["webpackJsonpdevchallenges--country-quiz"]=this["webpackJsonpdevchallenges--country-quiz"]||[]).push([[0],{11:function(e,t,n){e.exports={404:"Button_404__2rDuM",btn_group:"Button_btn_group__2AdEI",home:"Button_home__1D1pn",next:"Button_next__1GVF0",btn:"Button_btn__3-qfj",default:"Button_default__1KSWB",info:"Button_info__3XTBD",fullsize:"Button_fullsize__1wHMs"}},12:function(e,t,n){e.exports={answer:"Answer_answer__1siiv",default:"Answer_default__370d9",success:"Answer_success__3uRvn",danger:"Answer_danger__22lcH",answer_content:"Answer_answer_content__Aytg4",icon:"Answer_icon__2RS6C"}},20:function(e,t,n){e.exports={content_block:"Layout_content_block__uK3vJ",result:"Layout_result__25JGv"}},23:function(e,t,n){e.exports={content_block:"Result_content_block__1ns_t",content_text:"Result_content_text__3m_t3"}},24:function(e,t,n){e.exports={content:"NotFound_content__1yeo1"}},26:function(e,t,n){},37:function(e,t,n){e.exports={content_header:"Header_content_header__3bBqO"}},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(36),r=n.n(s),u=n(9),l=n(2),i=(n(26),n(1)),o=function(e){var t=e.classname,n=e.children;return Object(i.jsx)("h1",{className:"title_h1 ".concat(t),children:n})};o.defaultProps={classname:""};var d=o,j=n(37),b=n.n(j),f=function(e){var t=e.imageSrc,n=e.title;return Object(i.jsxs)("div",{className:b.a.content_header,children:[Object(i.jsx)(d,{children:n}),t&&Object(i.jsx)("img",{src:t,alt:"header deco"})]})};f.defaultProps={imageSrc:""};var h=f,p=n(14),O=n(16),_=n(40),x=n(8),m=n(38),g=n.n(m),v=function(e){var t,n,c,a=e;for(t=a.length-1;t>0;t-=1)n=Math.floor(Math.random()*(t+1)),c=a[t],a[t]=a[n],a[n]=c;return a},C=Object(c.createContext)(),w=function(e){var t=e.children,n=Object(c.useState)(null),a=Object(x.a)(n,2),s=a[0],r=a[1],u=Object(c.useState)([]),l=Object(x.a)(u,2),o=l[0],d=l[1],j=Object(c.useState)(null),b=Object(x.a)(j,2),f=b[0],h=b[1],m=Object(c.useState)([]),w=Object(x.a)(m,2),y=w[0],z=w[1],S=Object(c.useState)(null),k=Object(x.a)(S,2),q=k[0],A=k[1],N=Object(c.useState)(0),B=Object(x.a)(N,2),R=B[0],I=B[1],E=Object(c.useState)(null),P=Object(x.a)(E,2),F=P[0],M=P[1],D=Object(c.useState)({step1:!0,step2:!1,step3:!1,step4:!1,step5:!1,step6:!1}),J=Object(x.a)(D,2),G=J[0],H=J[1],U=Object(c.useState)(!1),K=Object(x.a)(U,2),L=K[0],Q=K[1],T=Object(c.useState)(!1),W=Object(x.a)(T,2),V=W[0],X=W[1],Y=function(){r(null),d([]),h(null),z([]),A(null),I(0),M(null),H(Object(O.a)(Object(O.a)({},G),{},{step1:!0,step6:!1})),Q(!1)};return Object(c.useEffect)((function(){V&&Y()}),[V]),Object(i.jsx)(C.Provider,{value:{quiz:s,updateQuiz:function(e){r(e)},countries:o,updateCountries:function(){g.a.get("https://restcountries.eu/rest/v2/region/europe").then((function(e){return e.data})).then((function(e){return d(e.map((function(e,t){return{id:t,name:e.name,capital:e.capital,flag:e.flag}})))}))},country:f,updateCountry:function(){var e=o.length,t=Math.floor(Math.random()*(e-0));h(o[t])},answers:y,updateAnswers:function(){var e=o.filter((function(e){return e.id!==f.id})).map((function(e){return e.id})),t=v(e).filter((function(e,t){return t<3})).map((function(e){return o[e]})),n=[f].concat(Object(_.a)(t));z(v(n)),A(f.id)},correctAnswers:R,updateCorrectAnswers:function(){F===q&&I(R+1)},goodAnswerId:q,userChoiceId:F,updateUserChoiceId:function(e){M(e)},steps:G,updateSteps:function(e,t){var n;H(Object(O.a)(Object(O.a)({},G),{},(n={},Object(p.a)(n,e,!1),Object(p.a)(n,t,!0),n)))},updateShowResult:function(){Q(!L)},showResult:L,allReset:V,updateAllReset:function(){X(!V)},reset:Y},children:t})},y=n.p+"static/media/header.182b6171.svg",z=n(20),S=n.n(z),k=function(e){var t=e.classname,n=e.children,a=Object(l.h)(),s=Object(c.useContext)(C),r=s.countries,u=s.updateCountries,o=s.country,d=s.updateCountry,j=s.updateAnswers;return Object(c.useEffect)((function(){"/quiz"===a.pathname&&(0===r.length?u():d())}),[r]),Object(c.useEffect)((function(){"/quiz"===a.pathname&&null!==o&&j()}),[o]),Object(i.jsx)("div",{className:"".concat(S.a.content_block," ").concat(S.a[t]),children:n})};k.defaultProps={classname:""};var q=k,A=n(11),N=n.n(A),B=function(e){var t=e.link,n=e.type,c=e.containerClassname,a=e.fullSize,s=e.quiz,r=e.children,l=e.handleClick;return Object(i.jsx)(u.b,{to:"/".concat(t),className:"".concat(N.a.btn_group," ").concat(N.a[c]),children:Object(i.jsx)("button",{type:"button",name:s,className:"".concat(N.a.btn," ").concat(N.a[n]," ").concat(a?N.a.fullsize:""),onClick:l,children:r})})};B.defaultProps={link:"",type:"default",quiz:"",fullSize:!1,handleClick:null};var R=B,I=function(){var e=Object(c.useContext)(C).updateQuiz;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(h,{title:"Country quiz",imageSrc:y}),Object(i.jsxs)(q,{children:[Object(i.jsx)(R,{link:"quiz",type:"default",containerClassname:"home",fullSize:!0,quiz:"capital",handleClick:function(){return e("capital")},children:"Capital"}),Object(i.jsx)(R,{link:"quiz",type:"default",containerClassname:"home",fullSize:!0,quiz:"flag",handleClick:function(){return e("flag")},children:"Flag"})]})]})},E=function(e){var t=e.classname,n=e.children;return Object(i.jsx)("h2",{className:"title_h2 ".concat(t),children:n})};E.defaultProps={classname:""};var P=E,F=n(25),M=n(12),D=n.n(M),J=function(e){var t=e.type,n=e.index,c=e.disabled,a=e.children,s=e.handleClick;return Object(i.jsxs)("button",{type:"button",className:"".concat(D.a.answer," ").concat(D.a[t]),disabled:c,onClick:s,children:[Object(i.jsxs)("div",{className:D.a.answer_content,children:[Object(i.jsx)("span",{children:n}),Object(i.jsx)("span",{children:a})]}),"success"===t&&Object(i.jsx)(F.a,{className:D.a.icon}),"danger"===t&&Object(i.jsx)(F.b,{className:D.a.icon})]})};J.defaultProps={type:"default",children:""};var G=J,H=function(e){var t=e.answers,n=Object(c.useContext)(C),a=n.goodAnswerId,s=n.updateCorrectAnswers,r=n.userChoiceId,u=n.updateUserChoiceId,l=function(e){var t="";switch(e){case 0:t="A";break;case 1:t="B";break;case 2:t="C";break;case 3:t="D"}return t};return Object(c.useEffect)((function(){null!==r&&r===a&&s()}),[r]),Object(i.jsx)(i.Fragment,{children:t.map((function(e,t){return Object(i.jsx)(G,{type:(n=e.id,null!==r?a===n?"success":a!==n&&n===r?"danger":"default":"default"),index:l(t),disabled:null!==r,handleClick:function(){return u(e.id)},children:e.name},e.id);var n}))})},U=function(){var e=Object(l.g)(),t=Object(c.useContext)(C),n=t.quiz,a=t.country,s=t.updateCountry,r=t.answers,u=t.userChoiceId,o=t.updateUserChoiceId,d=t.steps,j=t.updateSteps,b=t.showResult,f=t.updateShowResult;return Object(c.useEffect)((function(){b&&e.push("/result")}),[b]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(h,{title:"Country quiz",imageSrc:y}),Object(i.jsxs)(q,{children:[null===n&&Object(i.jsx)(l.a,{to:"/"}),a&&"flag"===n&&Object(i.jsx)("img",{style:{width:"84px",height:"54px",marginBottom:"28px"},src:a.flag,alt:"flag question"}),Object(i.jsx)(P,{children:"capital"===n?"".concat(a&&a.capital," is the capital of"):"Which country does this flag belong to ?"}),Object(i.jsx)(H,{answers:r}),null!==u&&Object(i.jsx)(R,{link:"quiz",type:"info",containerClassname:"next",handleClick:function(){return function(){var e=Object.values(d).indexOf(!0)+1,t="step".concat(e),n="step".concat(e+1);e<5?(s(),o(null)):5===e&&f(),e<6&&j(t,n)}()},children:"Next"})]})]})},K=n.p+"static/media/result.d76bfdf8.svg",L=n(23),Q=n.n(L),T=function(){var e=Object(l.g)(),t=Object(c.useContext)(C),n=t.correctAnswers,a=t.showResult,s=t.updateAllReset,r=t.reset;return Object(c.useEffect)((function(){a||e.push("/")}),[a]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(h,{title:"Country quiz"}),Object(i.jsxs)(q,{classname:"result",children:[Object(i.jsx)("img",{src:K,alt:"result"}),Object(i.jsx)(P,{classname:Q.a.result_title,children:"Results"}),Object(i.jsxs)("p",{className:Q.a.content_text,children:["You got ",Object(i.jsx)("span",{children:n})," correct answers"]}),Object(i.jsx)(R,{type:"default",containerClassname:"try_again",handleClick:function(){s(),r()},children:"Try again"})]})]})},W=n(24),V=n.n(W),X=function(){return Object(i.jsxs)("div",{className:V.a.not_found,children:[Object(i.jsx)(d,{classname:"lg",children:"OOPS !!!"}),Object(i.jsx)("p",{className:V.a.content,children:"Error 404 : Page Not Found"}),Object(i.jsx)(R,{type:"default",containerClassname:"404",children:"Go to home"})]})},Y=(n(69),function(){return Object(i.jsx)(w,{children:Object(i.jsx)("div",{className:"App",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsx)(u.a,{children:Object(i.jsxs)(l.d,{children:[Object(i.jsx)(l.b,{exact:!0,path:"/",component:I}),Object(i.jsx)(l.b,{exact:!0,path:"/quiz",component:U}),Object(i.jsx)(l.b,{exact:!0,path:"/result",component:T}),Object(i.jsx)(l.b,{exact:!0,path:"*",component:X})]})})})})})});n(70);r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(Y,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.eb039423.chunk.js.map